meta {
  name: "Create Draft (Topics)"
  type: "http"
  seq: 1
}

request {
  method: "POST"
  url: "{{apiBase}}/topics/draft"

  headers {
    Accept: "application/json"
    Content-Type: "application/json"
    X-Internal-Api-Key: "{{internalApiKey}}"
  }

  body: json({
    "user_id": {{defaultUserId}},
    "topic_id": 3001,
    "prompt": "Summarize the selected contents and create a draft.",
    "stream": false,
    "verbose": true,
    "model_alias": "gpt-4o-mini",
    "selected_contents": [
      {
        "content_id": 1001,
        "title": "Example Content",
        "summary": "A short summary from the upstream service.",
        "full_content": "Full content text passed from the Spring service.",
        "metadata": {
          "source_url": "https://example.com/article"
        }
      }
    ]
  })
}
