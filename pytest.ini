# pytest.ini

[pytest]
asyncio_mode = auto

# 테스트 수집 경로 (scripts 디렉토리 제외)
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Marker 정의
markers =
    real_ai: 실제 AI API를 사용하는 테스트 (유료, 과금 발생)
    mock_ai: Mock AI를 사용하는 테스트 (무료, 기본)

# 기본 옵션 (real_ai marker 제외)
addopts = -v --tb=short

# 경고 필터링
filterwarnings =
    # 기본: 모든 경고 표시
    default
    # 외부 라이브러리 deprecation 경고 무시
    ignore::DeprecationWarning:testcontainers.*
    ignore::DeprecationWarning:langfuse.*
    ignore::DeprecationWarning:aiohttp.*
    ignore::pydantic.warnings.PydanticDeprecatedSince20:litellm.*
